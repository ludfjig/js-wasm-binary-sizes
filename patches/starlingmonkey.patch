diff --git c/CMakeLists.txt w/CMakeLists.txt
index d7054b9..c8ea948 100644
--- c/CMakeLists.txt
+++ w/CMakeLists.txt
@@ -3,6 +3,14 @@ set(CMAKE_MODULE_PATH "${CMAKE_CURRENT_SOURCE_DIR}/cmake")
 set(CMAKE_EXPORT_COMPILE_COMMANDS ON)
 set(CMAKE_INTERPROCEDURAL_OPTIMIZATION TRUE)
 
+# BUILD_MINIMAL option - use -Oz for size optimization
+option(BUILD_MINIMAL "Build with size optimizations (-Oz)" OFF)
+if(BUILD_MINIMAL)
+    message(STATUS "BUILD_MINIMAL enabled - using -Oz size optimizations")
+    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Oz")
+    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Oz")
+endif()
+
 if (DEFINED ENV{HOST_API})
     set(HOST_API $ENV{HOST_API})
     if (EXISTS ${HOST_API})
@@ -75,20 +83,27 @@ target_link_libraries(starling-raw.wasm PRIVATE host_api extension_api builtins
 
 option(USE_WASM_OPT "use wasm-opt to optimize the StarlingMonkey binary" ON)
 
+# Choose wasm-opt optimization level based on BUILD_MINIMAL
+if(BUILD_MINIMAL)
+    set(WASM_OPT_LEVEL "-Oz")
+else()
+    set(WASM_OPT_LEVEL "-O3")
+endif()
+
 # For release builds, use wasm-opt to optimize the generated wasm file.
 if (USE_WASM_OPT)
     if (CMAKE_BUILD_TYPE STREQUAL "Release")
         add_custom_command(
                 TARGET starling-raw.wasm
                 POST_BUILD
-                COMMAND ${WASM_OPT} --strip-debug -O3 -o starling-raw.wasm starling-raw.wasm
+                COMMAND ${WASM_OPT} --strip-debug ${WASM_OPT_LEVEL} -o starling-raw.wasm starling-raw.wasm
                 WORKING_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}
         )
     elseif (CMAKE_BUILD_TYPE STREQUAL "RelWithDebInfo")
         add_custom_command(
                 TARGET starling-raw.wasm
                 POST_BUILD
-                COMMAND ${WASM_OPT} -O3 -g -o starling-raw.wasm starling-raw.wasm
+                COMMAND ${WASM_OPT} ${WASM_OPT_LEVEL} -g -o starling-raw.wasm starling-raw.wasm
                 WORKING_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}
         )
     endif()
diff --git c/builtins/web/structured-clone.cpp w/builtins/web/structured-clone.cpp
index e243964..1e98ef1 100644
--- c/builtins/web/structured-clone.cpp
+++ w/builtins/web/structured-clone.cpp
@@ -1,5 +1,7 @@
 #include "structured-clone.h"
+#ifdef ENABLE_BUILTIN_WEB_BLOB
 #include "blob.h"
+#endif
 
 #include "dom-exception.h"
 #include "mozilla/Assertions.h"
@@ -50,6 +52,7 @@ JSObject *ReadStructuredClone(JSContext *cx, JSStructuredCloneReader *r,
     return params_obj;
 
   }
+#ifdef ENABLE_BUILTIN_WEB_BLOB
   case SCTAG_DOM_BLOB: {
     JS::RootedString contentType(cx, JS_GetEmptyString(cx));
     UniqueChars chars(reinterpret_cast<char *>(bytes));
@@ -57,6 +60,7 @@ JSObject *ReadStructuredClone(JSContext *cx, JSStructuredCloneReader *r,
     RootedObject blob(cx, blob::Blob::create(cx, std::move(chars), len, contentType));
     return blob;
   }
+#endif
   default: {
     MOZ_ASSERT_UNREACHABLE("structured-clone undefined tag");
     return nullptr;
@@ -80,12 +84,14 @@ bool WriteStructuredClone(JSContext *cx, JSStructuredCloneWriter *w, JS::HandleO
         !JS_WriteBytes(w, (void *)slice.data, slice.len)) {
       return false;
     }
+#ifdef ENABLE_BUILTIN_WEB_BLOB
   } else if (blob::Blob::is_instance(obj)) {
     auto *data = blob::Blob::blob(obj);
     if (!JS_WriteUint32Pair(w, SCTAG_DOM_BLOB, data->length()) ||
         !JS_WriteBytes(w, (void *)data->begin(), data->length())) {
       return false;
     }
+#endif
   } else {
     return dom_exception::DOMException::raise(cx, "The object could not be cloned", "DataCloneError");
   }
diff --git c/builtins/web/url.cpp w/builtins/web/url.cpp
index 83dd01b..babee73 100644
--- c/builtins/web/url.cpp
+++ w/builtins/web/url.cpp
@@ -1,12 +1,18 @@
+#ifdef ENABLE_BUILTIN_WEB_BLOB
 #include "blob.h"
+#endif
 #include "encode.h"
+#ifdef ENABLE_BUILTIN_WEB_FILE
 #include "file.h"
+#endif
 #include "rust-url.h"
 #include "sequence.hpp"
 #include "url.h"
 #include "worker-location.h"
 
+#ifdef ENABLE_BUILTIN_WEB_CRYPTO
 #include "crypto/uuid.h"
+#endif
 
 #include "js/Array.h"
 #include "js/AllocPolicy.h"
@@ -17,8 +23,12 @@
 
 namespace builtins::web::url {
 
+#ifdef ENABLE_BUILTIN_WEB_BLOB
 using blob::Blob;
+#endif
+#ifdef ENABLE_BUILTIN_WEB_FILE
 using file::File;
+#endif
 using worker_location::WorkerLocation;
 
 bool URLSearchParamsIterator::next(JSContext *cx, unsigned argc, JS::Value *vp) {
@@ -494,8 +504,10 @@ ACCESSOR(username)
 #undef ACCESSOR
 
 const JSFunctionSpec URL::static_methods[] = {
+#if defined(ENABLE_BUILTIN_WEB_BLOB) && defined(ENABLE_BUILTIN_WEB_CRYPTO)
     JS_FN("createObjectURL", createObjectURL, 1, JSPROP_ENUMERATE),
     JS_FN("revokeObjectURL", revokeObjectURL, 1, JSPROP_ENUMERATE),
+#endif
     JS_FS_END,
 };
 
@@ -548,6 +560,7 @@ struct UrlKeyHasher {
 
 static PersistentRooted<JS::GCHashMap<UrlKey, Heap<JSObject *>, UrlKeyHasher, js::SystemAllocPolicy>> URL_STORE;
 
+#if defined(ENABLE_BUILTIN_WEB_BLOB) && defined(ENABLE_BUILTIN_WEB_CRYPTO)
 bool URL::createObjectURL(JSContext *cx, unsigned argc, JS::Value *vp) {
   CallArgs args = JS::CallArgsFromVp(argc, vp);
   if (!args.requireAtLeast(cx, "createObjectURL", 1)) {
@@ -564,9 +577,15 @@ bool URL::createObjectURL(JSContext *cx, unsigned argc, JS::Value *vp) {
     return false;
   }
 
+#ifdef ENABLE_BUILTIN_WEB_FILE
   if (!Blob::is_instance(obj) && !File::is_instance(obj)) {
     return false;
   }
+#else
+  if (!Blob::is_instance(obj)) {
+    return false;
+  }
+#endif
 
   // To generate a new blob URL, run the following steps:
   // 1. Let result be the empty string.
@@ -660,6 +679,7 @@ JSObject *URL::getObjectURL(std::string &url_str) {
   auto url = URL_STORE.get().lookup(url_str);
   return url ? url->value() : nullptr;
 }
+#endif // ENABLE_BUILTIN_WEB_BLOB && ENABLE_BUILTIN_WEB_CRYPTO
 
 const jsurl::JSUrl *URL::url(JSObject *self) {
   MOZ_ASSERT(is_instance(self));
diff --git c/builtins/web/url.h w/builtins/web/url.h
index 5ee7e9b..ecd01fb 100644
--- c/builtins/web/url.h
+++ w/builtins/web/url.h
@@ -88,8 +88,10 @@ class URL : public BuiltinImpl<URL, FinalizableClassPolicy> {
   static bool origin_get(JSContext *cx, unsigned argc, JS::Value *vp);
   static bool searchParams_get(JSContext *cx, unsigned argc, JS::Value *vp);
 
+#if defined(ENABLE_BUILTIN_WEB_BLOB) && defined(ENABLE_BUILTIN_WEB_CRYPTO)
   static bool createObjectURL(JSContext *cx, unsigned argc, JS::Value *vp);
   static bool revokeObjectURL(JSContext *cx, unsigned argc, JS::Value *vp);
+#endif
 
   static bool toString(JSContext *cx, unsigned argc, JS::Value *vp);
   static bool toJSON(JSContext *cx, unsigned argc, JS::Value *vp);
@@ -121,7 +123,9 @@ public:
   static bool search(JSContext *cx, JS::HandleObject self, JS::MutableHandleValue rval);
   static bool username(JSContext *cx, JS::HandleObject self, JS::MutableHandleValue rval);
 
+#if defined(ENABLE_BUILTIN_WEB_BLOB) && defined(ENABLE_BUILTIN_WEB_CRYPTO)
   static JSObject *getObjectURL(std::string &url);
+#endif
 
   static JSObject *create(JSContext *cx, JS::HandleObject self, jsurl::SpecString url_str,
                           const jsurl::JSUrl *base = nullptr);
diff --git c/cmake/spidermonkey.cmake w/cmake/spidermonkey.cmake
index 838b76f..ac7838d 100644
--- c/cmake/spidermonkey.cmake
+++ w/cmake/spidermonkey.cmake
@@ -9,6 +9,7 @@ else()
 endif()
 
 option(WEVAL "Build with a SpiderMonkey variant that supports weval-based AOT compilation" OFF)
+option(MINIMAL_SM "Build a minimal SpiderMonkey with size optimizations" OFF)
 
 if (WEVAL)
     set(SM_BUILD_TYPE "${SM_BUILD_TYPE}_weval")
@@ -23,6 +24,8 @@ endif()
 if (DEFINED ENV{SPIDERMONKEY_BINARIES})
     set(SM_LIB_DIR $ENV{SPIDERMONKEY_BINARIES})
     message(STATUS "Using pre-built SpiderMonkey artifacts from local directory ${SM_LIB_DIR}")
+elseif(MINIMAL_SM)
+    message(STATUS "MINIMAL_SM enabled - will build SpiderMonkey from source with size optimizations")
 else()
     set(SM_URL https://github.com/bytecodealliance/starlingmonkey/releases/download/libspidermonkey_${SM_TAG}/spidermonkey-static-${SM_BUILD_TYPE}.tar.gz)
     message(STATUS "Checking for pre-built SpiderMonkey artifacts at ${SM_URL}")
@@ -114,15 +117,33 @@ ac_add_options --disable-shared-js
 ac_add_options --disable-shared-memory
 ac_add_options --disable-tests
 ac_add_options --disable-clang-plugin
-ac_add_options --enable-jitspew
-ac_add_options --enable-optimize=-O3
-ac_add_options --enable-js-streams
 ac_add_options --enable-portable-baseline-interp
 ac_add_options --prefix=${SM_OBJ_DIR}/dist
 mk_add_options MOZ_OBJDIR=${SM_OBJ_DIR}
 mk_add_options AUTOCLOBBER=1
 ")
 
+    # Size vs speed optimization
+    if(MINIMAL_SM)
+        string(APPEND MOZCONFIG_CONTENT "ac_add_options --enable-optimize=-Oz\n")
+        string(APPEND MOZCONFIG_CONTENT "ac_add_options --disable-jitspew\n")
+        string(APPEND MOZCONFIG_CONTENT "ac_add_options --disable-js-streams\n")
+        string(APPEND MOZCONFIG_CONTENT "ac_add_options --disable-profiling\n")
+        string(APPEND MOZCONFIG_CONTENT "ac_add_options --disable-gczeal\n")
+        string(APPEND MOZCONFIG_CONTENT "ac_add_options --disable-spidermonkey-telemetry\n")
+        string(APPEND MOZCONFIG_CONTENT "ac_add_options --wasm-no-experimental\n")
+        string(APPEND MOZCONFIG_CONTENT "ac_add_options --disable-wasm-multi-memory\n")
+        string(APPEND MOZCONFIG_CONTENT "ac_add_options --disable-wasm-js-string-builtins\n")
+        string(APPEND MOZCONFIG_CONTENT "ac_add_options --disable-wasm-memory64\n")
+        string(APPEND MOZCONFIG_CONTENT "ac_add_options --disable-wasm-memory-control\n")
+        string(APPEND MOZCONFIG_CONTENT "ac_add_options --disable-wasm-branch-hinting\n")
+        string(APPEND MOZCONFIG_CONTENT "ac_add_options --disable-wasm-type-reflections\n")
+    else()
+        string(APPEND MOZCONFIG_CONTENT "ac_add_options --enable-jitspew\n")
+        string(APPEND MOZCONFIG_CONTENT "ac_add_options --enable-optimize=-O3\n")
+        string(APPEND MOZCONFIG_CONTENT "ac_add_options --enable-js-streams\n")
+    endif()
+
     # Add WASI sysroot if available
     if(DEFINED ENV{WASI_SYSROOT})
         string(APPEND MOZCONFIG_CONTENT "ac_add_options --with-sysroot=\"$ENV{WASI_SYSROOT}\"\n")
